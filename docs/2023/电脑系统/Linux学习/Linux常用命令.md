# Linux常用命令

> 2024年7月3日17:43:39

## ll查看文件

```sh
ll
```

"ll"是列表显示文件和目录的Linux命令，它实际上是"ls -l"的别名。"ls -l"命令在显示文件和目录时，会显示详细信息，包括权限，所有者，大小, 和最后修改时间等。

"ls"是Linux下的列出目录内容的命令。只输入"ls"会列出当前目录下的文件和文件夹名称，不包括隐藏文件和详细信息。

## unzip解压缩

> unzip这个包通常默认安装

```sh
unzip test.zip
```

* 或强制覆盖(不推荐，建议先删后增)

```sh
unzip -o test.zip
```

## wget发起请求

> 如果部署的服务有一个功能性的get接口,这时就需要通过一个脚本来调用了

* 注：wget本来是用来下载文件的，但也可以去触发get接口
* 注：wget可能没有安装,出现`wget: command not found`就说明需要先安装wget
* 注：在服务器上也是使用`127.0.0.1`域名，因为是在服务器上调用的，自然是本地，而且这样更通用。

假如有以下接口：

```http
GET http://127.0.0.1:8848/myService/api/xxx?paramm=x01
```

可以输入这样的命令来调用

```sh
wget http://127.0.0.1:8848/myService/api/xxx?paramm=x01
```

## 直接调用sh脚本

* 比如在当前文件夹下有一个叫`xxx.sh`的sh脚本
* 直接输入文件路径就自动调用了

```sh
./xxx.sh
```

## telnet检查端口(通用)

> 该命令在window上也能用

* telnet使用户在本地计算机上执行远程计算机上的命令，但现在已经更安全的SSH协议淘汰了。
* 不过我们可以用他来检查对应的端口是否畅通

```sh
telnet [选项] [主机] [端口] 
```

* 一般是这样：

```sh
telnet 192.168.1.1 8848
```

* 注意：端口号与ip之间空格分割
* 输完以后回车就行，如果弹出一个全黑的窗口就说明执行成功，把窗口关了就好。输入【q+回车】退出也行。

## tail -200f查看日志

```sh
tail -200f xxx.log
```

`tail -200f` 命令在Linux中用于监视文件的变化。

`tail` 命令的作用是输出文件最后部分内容，`-200` 选项表示显示文件的最后200行，`f` 选项表示监视文件的变化，即当文件新添加内容时，这些内容会被直接输出到屏幕上。

所以 `tail -200f` 命令的作用就是显示文件最后200行，并监视文件后续的变化。通常用于动态查看日志文件等。

## tail -n转存日志

* 比如将最后的8000行生成为另一个文件

```sh
tail -n 8000 xxx.log > newfile.log
```

这个命令会将日志文件xxx.log的最后80000行提取出来并创建一个新的日志文件newfile.log。如果newfile.log文件已经存在，则该命令将覆盖原有内容。如果你不想覆盖而是想追加到已有的文件，就使用>>而不是>:

```shell
tail -n 8000 xxx.log >> existingfile.log
```

## chmod设置文件权限

* 比如让某个文件夹所有用户都可读写

```sh
chmod 777 文件夹路径
```

* `777` 权限意味着用户（文件所有者）、组用户以及其他用户都拥有读、写和执行的权限。

### 777 编码的含义

数字 777 是一个三位数，每一位分别代表用户（user）、组（group）和其他（others）的权限。

- 第一个 7：代表用户（文件所有者）的权限。7 是由 4（读） + 2（写） + 1（执行）得到的。
- 第二个 7：代表组用户的权限。同样，7 表示组用户也拥有读、写和执行的权限。
- 第三个 7：代表其他用户的权限。7 表明其他用户同样拥有读、写和执行的权限。

777 对应的字母表示法是 `rwxrwxrwx`，其中：

- 前三位 `rwx` 代表用户的权限。
- 中间三位 `rwx` 代表组用户的权限。
- 最后三位 `rwx` 代表其他用户的权限。

### 其他常见权限编码

- **644**：对应字母表示法 `rw-r--r--`。用户拥有读和写权限（4 + 2 = 6），组用户和其他用户只有读权限（4）。
- **755**：对应字母表示法 `rwxr-xr-x`。用户拥有读、写和执行权限（4 + 2 + 1 = 7），组用户和其他用户拥有读和执行权限（4 + 1 = 5）。

## ps -ef查找java进程

`ps -ef|grep java` 是一个在类 Unix 系统（像 Linux、macOS 等）里常用的命令组合，其作用是查找正在运行的 Java 进程。下面为你详细解释：

**命令拆解**

1. **`ps -ef`**：
    - `ps` 是用于查看当前系统中进程状态的命令。
    - `-e` 表示显示所有进程，涵盖了所有用户的进程。
    - `-f` 表示以全格式输出，会展示更多进程相关的信息，像进程的 UID（用户 ID）、PID（进程 ID）、PPID（父进程 ID）、C（CPU 使用率）、STIME（启动时间）、TTY（终端设备）、TIME（CPU 占用时间）以及 CMD（启动进程的命令）等。

2. **`|`**：
    - 这是管道符号，其功能是把前一个命令的输出当作后一个命令的输入。

3. **`grep java`**：
    - `grep` 是一个用于文本搜索的命令。
    - `java` 是搜索的关键字，此命令会在 `ps -ef` 输出的结果里查找包含 `java` 的行。

**示例输出**

运行 `ps -ef|grep java` 后，输出可能如下：
```plaintext
user      1234     1  0 10:00 ?        00:00:05 java -jar myapp.jar
user      5678  1234  0 10:01 ?        00:00:02 java -cp lib/* com.example.Main
```
在这个输出中，每一行都代表一个正在运行的 Java 进程，包含了进程的各种信息。

借助 `ps -ef|grep java` 命令，你能够快速找出系统中正在运行的 Java 进程，并且获取这些进程的详细信息。 

## kill -9 终止进程

比如在前面查出来的`ps -ef|grep java`

```sh
kill -9 5678
```
