<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>测试一对多循环查询</title>
</head>
<body>
<div id="dog-res">
</div>
</body>
<script>
    window.onload = () => {
        const dosRes = document.getElementById("dog-res")
        fetch('http://localhost:8080/dog')
            .then(response => response.json())
            .then(resp => {
                resp.forEach(item => {
                    const {dogName, sex, age, breed, dogSpecialities} = item
                    dosRes.innerHTML += dogName + ",";
                    console.log(dogName)
                    dosRes.innerHTML += sex ? "公" : "母" + ",";
                    dosRes.innerHTML += age + "岁,";
                    dosRes.innerHTML += breed + ",特质:【";
                    dogSpecialities.forEach(specialities => {
                        const {specialityName} = specialities
                        dosRes.innerHTML += specialityName + ",";
                    })
                    dosRes.innerHTML += '】<br>';
                })
                console.log(resp)
            });
    }
</script>
</html>